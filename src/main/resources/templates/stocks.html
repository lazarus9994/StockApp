<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{this :: content}, 'stocks', ~{this :: scripts})}">

<!-- ============================
      CONTENT SECTION
============================= -->
<section th:fragment="content">

    <div class="page-header">
        <h1>Stocks</h1>
    </div>

    <table class="table">
        <thead>
        <tr>
            <th>Symbol</th>
            <th>Name</th>
            <th>Records</th>
            <th>Details</th>
        </tr>
        </thead>

        <tbody>
        <tr th:each="stock : ${stocks}">
            <td th:text="${stock.stockCode}"></td>
            <td th:text="${stock.stockName}"></td>

            <!-- Count WITHOUT adding recordsCount to Stock entity -->
            <td th:text="${stock.records.size()}"></td>

            <td>
                <a th:href="@{/stocks/{code}(code=${stock.stockCode})}">
                    View
                </a>
            </td>
        </tr>
        </tbody>
    </table>

</section>

<!-- ============================
      PAGE-SPECIFIC SCRIPTS
      (празно, но задължително)
============================= -->
<th:block th:fragment="scripts"></th:block>

</html>
