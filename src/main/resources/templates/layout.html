<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en"
      th:fragment="layout(content)">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title th:text="${pageTitle} ?: 'StockApp'">StockApp</title>

    <!-- ĞŸÑŠÑ€Ğ²Ğ¾ Ğ±Ğ°Ğ·Ğ¾Ğ²Ğ¸Ñ‚Ğµ/light ÑÑ‚Ğ¸Ğ»Ğ¾Ğ²Ğµ -->
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/components.css}">
    <!-- ĞĞ°ĞºÑ€Ğ°Ñ Ñ‚ÑŠĞ¼Ğ½Ğ°Ñ‚Ğ° Ñ‚ĞµĞ¼Ğ°, Ğ·Ğ° Ğ´Ğ° override-Ğ½Ğµ Ğ³Ğ¾Ñ€Ğ½Ğ¸Ñ‚Ğµ -->
    <link rel="stylesheet" th:href="@{/css/theme.css}">
</head>

<body th:with="path=${currentPath} ?: '/'"
      th:class="${#strings.startsWith(path,'/login') or #strings.startsWith(path,'/register') ? 'auth-page' : 'app-layout'}">

<div class="app-container">

    <!-- Sidebar (ÑĞºÑ€Ğ¸Ñ‚ Ğ½Ğ° login/register) -->
    <aside class="sidebar"
           th:if="${!#strings.startsWith(path,'/login') and !#strings.startsWith(path,'/register')}">

        <div class="logo-section">
            <span class="logo">ğŸ’¹</span>
            <h2>StockApp</h2>
        </div>

        <nav class="nav-links">

            <a th:href="@{/}" class="nav-item"
               th:classappend="${path == '/'} ? ' active'">
                <i>ğŸ </i><span>Dashboard</span>
            </a>

            <a th:href="@{/stocks}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/stocks')} ? ' active'">
                <i>ğŸ“ˆ</i><span>Stocks</span>
            </a>

            <a th:href="@{/analytics}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/analytics')} ? ' active'">
                <i>ğŸ“Š</i><span>Analytics</span>
            </a>

            <a th:href="@{/profile}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/profile')} ? ' active'">
                <i>ğŸ‘¤</i><span>Profile</span>
            </a>

            <a th:href="@{/upload}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/upload')} ? ' active'">
                <i>ğŸ“¤</i><span>Upload CSV</span>
            </a>

            <a th:href="@{/imports}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/imports')} ? ' active'">
                <i>ğŸ“</i><span>Import Logs</span>
            </a>

            <a th:href="@{/reports}" class="nav-item"
               th:classappend="${#strings.startsWith(path,'/reports')} ? ' active'">
                <i>ğŸ“œ</i><span>Reports</span>
            </a>

            <a th:href="@{/logout}" class="nav-item">
                <i>ğŸšª</i><span>Logout</span>
            </a>

        </nav>
    </aside>

    <!-- Main content -->
    <main class="main-content">
        <th:block th:replace="${content}"></th:block>
    </main>

</div>

</body>
</html>
