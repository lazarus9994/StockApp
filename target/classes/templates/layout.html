<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:fragment="layout(content, page, scripts)">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title th:text="${pageTitle} ?: 'StockApp'">StockApp</title>

    <!-- Global Styles -->
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/components.css}">
    <link rel="stylesheet" th:href="@{/css/theme.css}">
</head>

<body th:class="${page}">

<!-- ========================= -->
<!-- HEADER (always visible)   -->
<!-- ========================= -->
<th:block th:replace="~{fragments/_header :: header}"></th:block>


<div class="app-container">

    <!-- ========================= -->
    <!-- SIDEBAR (hidden on login/register) -->
    <!-- ========================= -->
    <aside class="sidebar"
           th:if="${page != 'login' and page != 'register'}">

        <div class="logo-section">
            <span class="logo">ğŸ’¹</span>
            <h2>StockApp</h2>
        </div>

        <nav class="nav-links">
            <a th:href="@{/}" class="nav-item">ğŸ  Dashboard</a>
            <a th:href="@{/stocks}" class="nav-item">ğŸ“ˆ Stocks</a>
            <a th:href="@{/analytics}" class="nav-item">ğŸ“Š Analytics</a>
            <a th:href="@{/user/profile}" class="nav-item">ğŸ‘¤ Profile</a>
            <a th:href="@{/upload}" class="nav-item">ğŸ“¤ Upload CSV</a>
            <a th:href="@{/imports}" class="nav-item">ğŸ“ Import Logs</a>
            <a th:href="@{/reports}" class="nav-item">ğŸ“œ Reports</a>
            <a th:href="@{/logout}" class="nav-item">ğŸšª Logout</a>
        </nav>
    </aside>


    <!-- ========================= -->
    <!-- MAIN CONTENT AREA         -->
    <!-- ========================= -->
    <main class="main-content">
        <th:block th:replace="${content}"></th:block>

        <!-- Optional page-specific scripts -->
        <th:block th:replace="${scripts} ?: ~{}"></th:block>
    </main>

</div>


<!-- ========================= -->
<!-- FOOTER (always visible)   -->
<!-- ========================= -->
<th:block th:replace="~{fragments/_footer :: footer}"></th:block>


</body>
</html>
